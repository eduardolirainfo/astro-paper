@layer base {
  :root,
  html[data-theme="light"] {
    --color-fill: 251, 254, 251;
    --color-text-base: 40, 39, 40;
    --color-accent: 230, 0, 103;
    --color-card: 230, 230, 230;
    --color-card-muted: 205, 205, 205;
    --color-border: 236, 233, 233;
    --color-card-accent: 0, 108, 172;
    --hue: 223;
    --bg: hsl(var(--hue), 10%, 90%);
    --fg: hsl(var(--hue), 10%, 10%);
    --primary: hsl(var(--hue), 90%, 50%);
    --trans-dur: 0.3s;
    --trans-timing: cubic-bezier(0.76, 0.05, 0.24, 0.95);
    --trans-timing-in: cubic-bezier(0.76, 0.05, 0.86, 0.06);
    --trans-timing-out: cubic-bezier(0.05, 0.76, 0.06, 0.86);
  }

  html[data-theme="dark"] {
    --color-fill: 30, 25, 53;
    --color-text-base: 230, 230, 230;
    --color-accent: 2, 215, 242;
    --color-card: 4, 7, 18;
    --color-card-muted: 89, 107, 129;
    --color-border: 59, 70, 85;
    --color-card-accent: 26, 217, 217;
    --hue: 223;
    --bg: hsl(var(--hue), 10%, 90%);
    --fg: hsl(var(--hue), 10%, 10%);
    --primary: hsl(var(--hue), 90%, 50%);
    --trans-dur: 0.3s;
    --trans-timing: cubic-bezier(0.76, 0.05, 0.24, 0.95);
    --trans-timing-in: cubic-bezier(0.76, 0.05, 0.86, 0.06);
    --trans-timing-out: cubic-bezier(0.05, 0.76, 0.06, 0.86);
  }

  #sun-svg,
  html[data-theme="dark"] #moon-svg {
    display: none;
  }

  #moon-svg,
  html[data-theme="dark"] #sun-svg {
    display: block;
  }

  html[data-theme="light"] .card{
    background: white;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.15), 0 10px 0 -5px #fff,
      0 10px 1px -4px rgba(0, 0, 0, 0.25), 0 20px 0 -10px #fff,
      0 20px 1px -9px rgba(0, 0, 0, 0.15);
  }
  html[data-theme="light"] .tagCard{
    background: white;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.15), 0 5px 0 -2px #fff,
      0 10px 1px -1px rgba(0, 0, 0, 0.05), 0 10px 0 -2px #fff,
      0 10px 1px -4px rgba(0, 0, 0, 0.15);
  }
  html[data-theme="light"] .card:hover,
  html[data-theme="light"] .tagCard:hover{
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%238e75b6' fill-opacity='0.4' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E");
    box-shadow: none;
  }

  html[data-theme="dark"] .card ,
  html[data-theme="dark"] .tagCard{
    background: rgba(255, 255, 255, 0.05);
    box-shadow: 0 15px 15px rgb(0 0 0 / 30%);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 30px;
    padding: 0.25rem;
    overflow: hidden;
    font-weight: 400px;
    z-index: 1;
    transition: 0.5s;
    backdrop-filter: blur(15px);
  }
  html[data-theme="light"] .tagCard{
    padding: 0.25rem;
  }
 
  body {
    @apply min-h-screen flex-col bg-skin-fill font-body text-skin-base selection:bg-skin-accent selection:bg-opacity-70 selection:text-skin-inverted;
  }
  html[data-theme="dark"] body {
    background: linear-gradient(
      180deg,
      hsl(256, 27%, 19%),
      hsl(256, 27%, 19%) calc(6rem + 4rem),
      hsl(251, 29%, 11%)
    );
  }

  section,
  footer {
    @apply mx-auto max-w-4xl px-4;
  }

  svg {
    @apply inline-block h-6 w-6 fill-skin-base group-hover:fill-skin-accent;
  }
  svg.icon-tabler {
    @apply inline-block h-6 w-6 scale-125 fill-transparent 
    stroke-current stroke-2 opacity-90 group-hover:fill-transparent 
    sm:scale-110;
  }

  .prose {
    @apply prose-headings:!mb-3 prose-headings:!text-skin-base prose-h3:italic prose-p:!text-skin-base prose-a:!text-skin-base prose-a:!decoration-dashed prose-a:underline-offset-8 hover:prose-a:text-skin-accent prose-blockquote:!border-l-skin-accent prose-blockquote:border-opacity-50 prose-blockquote:opacity-80 prose-figcaption:!text-skin-base prose-figcaption:opacity-70 prose-strong:!text-skin-base prose-code:rounded prose-code:bg-skin-card prose-code:bg-opacity-75 prose-code:p-1 prose-code:!text-skin-base prose-code:before:!content-[''] prose-code:after:!content-[''] prose-pre:!text-skin-base prose-ol:!text-skin-base prose-ul:overflow-x-clip prose-ul:!text-skin-base prose-li:marker:!text-skin-accent prose-table:text-skin-base prose-th:border prose-th:border-skin-line prose-td:border prose-td:border-skin-line prose-img:mx-auto prose-img:!mt-2 prose-img:border-2 prose-img:border-skin-line prose-hr:!border-skin-line;
  }

  .prose a {
    @apply hover:!text-skin-accent;
    word-wrap: break-word;
  }

  .prose thead th:first-child,
  tbody td:first-child,
  tfoot td:first-child {
    padding-left: 0.5714286em;
  }

  .prose h2#table-of-contents {
    @apply mb-2;
  }

  .prose details {
    @apply inline-block cursor-pointer select-none text-skin-base;
  }

  .prose summary {
    @apply focus-outline;
  }

  .prose h2#table-of-contents + p {
    @apply hidden;
  }

  /* ===== scrollbar ===== */
  html {
    overflow-y: scroll;
  }

  /* width */
  ::-webkit-scrollbar {
    @apply w-3;
  }

  /* Track */
  ::-webkit-scrollbar-track {
    @apply bg-skin-fill;
  }

  /* Handle */
  ::-webkit-scrollbar-thumb {
    @apply bg-skin-card;
  }

  /* Handle on hover */
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-skin-card-muted;
  }
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  th {
    @apply font-body;
    @apply tracking-tight;
  }
  .text-transparent {
    color: transparent;
  }

  .switch {
    margin: auto;
    position: relative;
  }
  .switch__icon,
  .switch__input {
    display: block;
  }
  .switch__icon {
    position: absolute;
    top: 0.375em;
    right: 0.375em;
    width: 0.75em;
    height: 0.75em;
    transition: opacity calc(var(--trans-dur) / 2),
      transform calc(var(--trans-dur) / 2);
  }
  .switch__icon polyline {
    transition: stroke-dashoffset calc(var(--trans-dur) / 2);
  }
  html[data-theme="light"] .switch__input .switch__icon--light,
  html[data-theme="light"] .switch__input .switch__icon--light polyline {
    transition-delay: calc(var(--trans-dur) / 2);
    transition-timing-function: var(--trans-timing-out);
  }

  html[data-theme="light"] .switch__input .switch__icon--dark {
    opacity: 0;
    transform: translateX(-0.75em) rotate(30deg) scale(0.75);
    transition-timing-function: var(--trans-timing-in);
  }
  .switch__input {
    background-color: hsl(210, 90%, 70%);
    border-radius: 0.75em;
    box-shadow: 0 0 0 0.125em hsla(var(--hue), 90%, 50%, 0),
      0.125em 0.125em 0.25em hsla(var(--hue), 90%, 10%, 0.2);
    outline: transparent;
    position: relative;
    width: 3em;
    height: 1.5em;
    -webkit-appearance: none;
    appearance: none;
    -webkit-tap-highlight-color: transparent;
    transition: background-color var(--trans-dur) var(--trans-timing),
      box-shadow 0.15s linear;
  }
  .switch__input:focus-visible {
    box-shadow: 0 0 0 0.125em hsl(var(--hue), 90%, 50%),
      0.125em 0.125em 0.25em hsla(var(--hue), 90%, 10%, 0.2);
  }
  .switch__input:before,
  .switch__input:after {
    content: "";
    display: block;
    position: absolute;
  }
  .switch__input:before {
    background-color: hsl(50, 90%, 50%);
    border-radius: inherit;
    mask-image: linear-gradient(
      120deg,
      hsl(0, 0%, 0%) 20%,
      hsla(0, 0%, 0%, 0) 80%
    );
    -webkit-mask-image: linear-gradient(
      120deg,
      hsl(0, 0%, 0%) 20%,
      hsla(0, 0%, 0%, 0) 80%
    );
    inset: 0;
    transition: background-color var(--trans-dur) var(--trans-timing);
  }
  .switch__input:after {
    background-color: hsl(0, 0%, 100%);
    border-radius: 50%;
    box-shadow: 0.05em 0.05em 0.05em hsla(var(--hue), 90%, 10%, 0.1);
    top: 0.125em;
    left: 0.125em;
    width: 1.25em;
    height: 1.25em;
    transition: background-color var(--trans-dur) var(--trans-timing),
      transform var(--trans-dur) var(--trans-timing);
    z-index: 1;
  }
  html[data-theme="dark"] .switch__input {
    background-color: hsl(290, 90%, 40%);
  }
  html[data-theme="dark"] .switch__input:before {
    background-color: hsl(220, 90%, 40%);
  }
  html[data-theme="dark"] .switch__input:after {
    background-color: hsl(0, 0%, 0%);
    transform: translateX(1.5em);
  }

  html[data-theme="light"] .switch__input .switch__icon--light,
  html[data-theme="light"] .switch__input .switch__icon--light polyline {
    transition-delay: 0s;
    transition-timing-function: var(--trans-timing-in);
  }

  html[data-theme="dark"] .switch__input .switch__icon--light {
    opacity: 0;
    transform: translateX(-0.75em) rotate(-30deg) scale(0.75);
  }
  html[data-theme="dark"] .switch__input .switch__icon--light polyline {
    stroke-dashoffset: 1.5;
  }

  html[data-theme="dark"] .switch__input .switch__icon--dark {
    opacity: 1;
    transform: translateX(-1.5em) !important;
    transition-delay: calc(var(--trans-dur) / 2);
    transition-timing-function: var(--trans-timing-out);
  }
  .switch__sr {
    overflow: hidden;
    position: absolute;
    width: 1px;
    height: 1px;
  }
  @media (max-width: 640px) {
    .sm\:flex {
      display: flex;
    }
    .display-none {
      display: none !important;
    }
  }
}
